import{H as m,bb as p,h as n,nb as h,o as l,q as a,qb as v,rb as d,sb as f,ta as u,u as c}from"./chunk-63HRMLXA.js";var g=1,S=2,F=3,w=(()=>{class i{constructor(e){this.dialog=e,this.isStep1Valid=!1,this.isStep2Valid=!1,this.isStep3Valid=!1}showStep(e){return e===g?!this.isStep1Valid&&!this.isStep2Valid&&!this.isStep3Valid:e===S?this.isStep1Valid&&!this.isStep2Valid&&!this.isStep3Valid:e===F?this.isStep1Valid&&this.isStep2Valid&&!this.isStep3Valid:this.isStep1Valid&&this.isStep2Valid&&this.isStep3Valid}validateStep(e){switch(e){case g:this.isStep1Valid=!0;break;case S:this.isStep2Valid=!0;break;case F:this.isStep3Valid=!0,this.sendDevis();break}}spinnerModal(){return this.dialog.open(v,{})}reset(){this.isStep1Valid=!1,this.isStep2Valid=!1,this.isStep3Valid=!1,this.creationDevisForms=new p({}),this.isCreationASuccess=null}getNewDevis(){let e=this.creationDevisForms.get("infoGeneralForm").value;return e.numeroSiren=this.creationDevisForms.get("infoComplForm.numeroSiren")?.value,e.codeApe=this.creationDevisForms.get("infoComplForm.codeApe")?.value,e.dateCreationSociete=this.creationDevisForms.get("infoComplForm.dateCreationSociete")?.value,e.montantCaSociete=this.creationDevisForms.get("infoComplForm.montantCaSociete")?.value,e.effectifSociete=this.creationDevisForms.get("infoComplForm.effectifSociete")?.value,e.texteMessage=this.creationDevisForms.get("infoComplForm.texteMessage")?.value,e.estRcms=this.creationDevisForms.get("guaranteeForm.estRcms")?.value,e.estFgp=this.creationDevisForms.get("guaranteeForm.estFgp")?.value,e.estHc=this.creationDevisForms.get("guaranteeForm.estHc")?.value,e.estPe=this.creationDevisForms.get("guaranteeForm.estPe")?.value,e.estRcp=this.creationDevisForms.get("guaranteeForm.estRcp")?.value,e.estCe=this.creationDevisForms.get("guaranteeForm.estCe")?.value,e.estSpc=this.creationDevisForms.get("guaranteeForm.estSpc")?.value,e.estSiTns=this.creationDevisForms.get("guaranteeForm.estSiTns")?.value,e.estPiTns=this.creationDevisForms.get("guaranteeForm.estPiTns")?.value,e.estGsc=this.creationDevisForms.get("guaranteeForm.estGsc")?.value,e.estMultipro=this.creationDevisForms.get("guaranteeForm.estMultipro")?.value,e.estPj=this.creationDevisForms.get("guaranteeForm.estPj")?.value,e.estCyber=this.creationDevisForms.get("guaranteeForm.estCyber")?.value,e.estSpai=this.creationDevisForms.get("guaranteeForm.estSpai")?.value,e.dateReponse=this.creationDevisForms.get("guaranteeForm.dateReponse").value,e}static{this.\u0275fac=function(t){return new(t||i)(m(h))}}static{this.\u0275dir=c({type:i})}}return i})();var I=(()=>{class i extends d{constructor(e,t){super(t),this.http=e,this.configService=t}listDevis(e,t){let s="Devis";return e?(s+=`?dateDebut=${this.toISOStringWithGMTOffset(e)}`,t&&(s+=`&dateFin=${this.toISOStringWithGMTOffset(t)}`)):t&&(s+=`?dateFin=${this.toISOStringWithGMTOffset(t)}`),this.http.get(this.buildUrl(s))}createDevis(e){return this.http.post(this.buildUrl("Devis"),e)}updateDevis(e){return this.http.put(this.buildUrl("Devis"),e)}createContactDevis(e){return this.http.post(this.buildUrl("contact/devis"),e)}uploadDocumentDevis(e,t){let s=new FormData;return s.append("file",e,e.name),this.http.post(this.buildUrl(`devis/${t}/documents`),s).pipe(n(r=>r.value))}listDocumentByDevisUid(e){return this.http.get(this.buildUrl(`devis/${e}/documents`))}downloadDocumentdevis(e,t){return this.http.get(this.buildUrl(`devis/${e}/documents/${t}`),{responseType:"blob"})}deleteDocumentdevis(e,t){return this.http.delete(this.buildUrl(`devis/${e}/documents/${t}`))}saveDocument(e,t){let s=new Blob([e]),r=window.URL.createObjectURL(s),o=document.createElement("a");o.href=r,o.download=t,o.click(),window.URL.revokeObjectURL(r)}toISOStringWithGMTOffset(e){return e.toISOString().replace("Z",`+${this.pad(e.getTimezoneOffset()/60)}:00`)}pad(e){return e.toString().padStart(2,"0")}static{this.\u0275fac=function(t){return new(t||i)(a(u),a(f))}}static{this.\u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{w as a,I as b};
